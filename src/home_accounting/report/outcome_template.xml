<?xml version="1.0" encoding="utf-8"?>
<odoo>

<template id="outcome_template">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="doc">
            <t t-call="web.basic_layout">
                <div class="page">
                    <h1>Outcome on my account:</h1>
                    <h2>
                        <t t-esc="doc.currency_id_byn.symbol" />
                        <t t-esc="doc.outcome_byn" />
                        <t t-esc="doc.currency_id_usd.symbol" />
                        <t t-esc="doc.outcome_usd" />
                        <t t-esc="doc.currency_id_ils.symbol" />
                        <t t-esc="doc.outcome_ils" />
                        <t t-esc="doc.currency_id_rub.symbol" />
                        <t t-esc="doc.outcome_rub" />
                        <!-- <t t-esc="income_data_for_report" />
                        <t t-esc="expenses_data_for_report" /> -->
                    </h2>
                    
                    <!-- Перебираем по циклу все записи в получившемся в питоне словаре, "year_incomes" - произвольное название ключей -->
                    <t t-foreach="income_data_for_report" t-as="year_incomes">
                        <!-- div нужен для отступов -->
                        <div>  
                            <br/>
                            <!-- t-esc= нужен для вывода данных, в данном случае записей из модели в питоне -->
                            <h3><t t-esc="year_incomes"/></h3>
                            <table style="border-collapse:collapse;width: 100%;">
                                <!-- делаем шапку таблицы -->
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black;padding: 5px; width: 40%;">Income Type</th>
                                        <th style="border: 1px solid black;padding: 5px;">Amount</th>
                                        <th style="border: 1px solid black;padding: 5px;">Structure</th>
                                    </tr>
                                </thead>
                                <!-- делаем строки в таблице -->
                                <tbody>
                                <!-- в данном случае делаем цикл для каждой записи в питоновском словаре по ключу year_incomes -->
                                <tr t-foreach="income_data_for_report[year_incomes]" t-as="income_type_data">
                                    <!-- и для каждой из этих записей мы вычленяем те элементы, которые нам нужны для таблицы (1, 2, 3 элемент -->
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="income_type_data[0]"/></td>
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="income_type_data[1]"/></td>
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="income_type_data[2]"/></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>      
                    </t>
                    <t t-foreach="expenses_data_for_report" t-as="year_expenses">
                        <!-- div нужен для отступов -->
                        <div>  
                            <br/>
                            <!-- t-esc= нужен для вывода данных, в данном случае записей из модели в питоне -->
                            <h3><t t-esc="year_expenses"/></h3>
                            <table style="border-collapse:collapse;width: 100%;">
                                <!-- делаем шапку таблицы -->
                                <thead>
                                    <tr>
                                        <th style="border: 1px solid black;padding: 5px; width: 40%;">Expenses Type</th>
                                        <th style="border: 1px solid black;padding: 5px;">Amount</th>
                                        <th style="border: 1px solid black;padding: 5px;">Structure</th>
                                    </tr>
                                </thead>
                                <!-- делаем строки в таблице -->
                                <tbody>
                                <!-- в данном случае делаем цикл для каждой записи в питоновском словаре по ключу year_expensess -->
                                <tr t-foreach="expenses_data_for_report[year_expenses]" t-as="expenses_type_data">
                                    <!-- и для каждой из этих записей мы вычленяем те элементы, которые нам нужны для таблицы (1, 2, 3 элемент -->
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="expenses_type_data[0]"/></td>
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="expenses_type_data[1]"/></td>
                                    <td style="border: 1px solid black;padding: 5px;"><t t-esc="expenses_type_data[2]"/></td>
                                </tr>
                                </tbody>
                            </table>
                        </div>      
                    </t>
                </div>
            </t>
        </t>
    </t>
</template>
</odoo>